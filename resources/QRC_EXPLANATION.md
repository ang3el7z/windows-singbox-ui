# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Qt Resource System (QRC) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

## üéØ –ö–†–ê–¢–ö–ò–ô –û–¢–í–ï–¢

**Qt Resource System –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –û–î–ò–ù –†–ê–ó –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è, –∏ –∏–∫–æ–Ω–∫–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –í–°–ï–ì–î–ê –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ.**

## üìã –î–ï–¢–ê–õ–¨–ù–û–ï –û–ë–™–Ø–°–ù–ï–ù–ò–ï

### 1Ô∏è‚É£ –ö–æ–º–ø–∏–ª—è—Ü–∏—è QRC (–û–î–ò–ù –†–ê–ó)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```
resources/app.qrc  ‚Üí  [pyrcc5]  ‚Üí  scripts/resources_rc.py
```

**–ö–æ–≥–¥–∞:**
- –ü—Ä–∏ —Å–±–æ—Ä–∫–µ —á–µ—Ä–µ–∑ PyInstaller (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –í—Ä—É—á–Ω—É—é: `py -m PyQt5.pyrcc_main resources/app.qrc -o scripts/resources_rc.py`
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `app.qrc` (–Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è Python –º–æ–¥—É–ª—å `scripts/resources_rc.py`
- –ò–∫–æ–Ω–∫–∞ –∑–∞—à–∏—Ç–∞ –≤ —ç—Ç–æ—Ç –º–æ–¥—É–ª—å –∫–∞–∫ –±–∞–π—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è **–û–î–ò–ù –†–ê–ó**, –Ω–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ

---

### 2Ô∏è‚É£ –ò–º–ø–æ—Ä—Ç resources_rc (–û–î–ò–ù –†–ê–ó –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)

**–ì–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```python
# utils/icon_manager.py (—Å—Ç—Ä–æ–∫–∞ 12)
import scripts.resources_rc  # noqa: F401
```

**–ö–æ–≥–¥–∞:**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∏–º–ø–æ—Ä—Ç–µ `icon_manager` (–∫–æ—Ç–æ—Ä—ã–π –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `main.py` –∏ `app/application.py`)
- –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–û–î–ò–ù –†–ê–ó** –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Python –∫—ç—à–∏—Ä—É–µ—Ç –∏–º–ø–æ—Ä—Ç—ã, –ø–æ—ç—Ç–æ–º—É –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∫–æ–¥ –∑–∞–Ω–æ–≤–æ

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:**
1. Python –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥—É–ª—å `resources_rc.py`
2. –ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –≤ Qt Resource System
3. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ä–µ—Å—É—Ä—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ –ø—É—Ç–∏ `:/icons/app.ico`

---

### 3Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ (–í–°–ï–ì–î–ê –¥–æ—Å—Ç—É–ø–Ω–∞)

**–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ `resources_rc` –∏–∫–æ–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –í–ï–ó–î–ï:**

```python
# –í icon_manager.py
icon = QIcon(":/icons/app.ico")  # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞

# –í tray_manager.py
tray_icon = get_icon()  # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞

# –í main.py
set_window_icon(window)  # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞
```

**–ü–æ—á–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞:**
- Qt Resource System - —ç—Ç–æ **–≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä** –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã **–¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
- –ù–µ –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ - –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É—Ç—å `:/icons/app.ico`

---

## üîÑ –ü–û–õ–ù–´–ô –¶–ò–ö–õ

```
1. –°–ë–û–†–ö–ê (–æ–¥–∏–Ω —Ä–∞–∑):
   app.qrc ‚Üí pyrcc5 ‚Üí scripts/resources_rc.py
   
2. –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (–∫–∞–∂–¥—ã–π —Ä–∞–∑, –Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
   import icon_manager ‚Üí import scripts.resources_rc ‚Üí —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
   
3. –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï (–≤–µ–∑–¥–µ –∏ –≤—Å–µ–≥–¥–∞):
   QIcon(":/icons/app.ico") ‚Üí ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê

**–ö–∞–∫ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–µ—Å—É—Ä—Å—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã:**

```python
from PyQt5.QtGui import QIcon

# –ü—Ä–æ–≤–µ—Ä–∫–∞
icon = QIcon(":/icons/app.ico")
if icon.isNull():
    print("‚ùå –†–µ—Å—É—Ä—Å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω!")
else:
    print("‚úÖ –†–µ—Å—É—Ä—Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω!")
```

**–í –≤–∞—à–µ–º –∫–æ–¥–µ —ç—Ç–æ —É–∂–µ –µ—Å—Ç—å:**
```python
# utils/icon_manager.py, —Å—Ç—Ä–æ–∫–∞ 58
icon = QIcon(self.APP_ICON_PATH)
if icon.isNull():
    raise RuntimeError("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∫–æ–Ω–∫—É –∏–∑ Qt Resource")
```

---

## üéØ –ò–¢–û–ì

| –î–µ–π—Å—Ç–≤–∏–µ | –ß–∞—Å—Ç–æ—Ç–∞ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏? |
|----------|---------|----------------|
| –ö–æ–º–ø–∏–ª—è—Ü–∏—è QRC | –û–¥–∏–Ω —Ä–∞–∑ (–ø—Ä–∏ —Å–±–æ—Ä–∫–µ) | ‚úÖ –î–∞ (–≤ .spec) |
| –ò–º–ø–æ—Ä—Ç resources_rc | –û–¥–∏–Ω —Ä–∞–∑ (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ) | ‚úÖ –î–∞ (–≤ icon_manager) |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ | –í–µ–∑–¥–µ –∏ –≤—Å–µ–≥–¥–∞ | ‚úÖ –î–∞ (—á–µ—Ä–µ–∑ QIcon) |

**–í—ã–≤–æ–¥:** –í–∞–º –ù–ï –ù–£–ñ–ù–û –Ω–∏—á–µ–≥–æ –≤—ã–∑—ã–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é. –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. QRC –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
2. resources_rc –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ icon_manager
3. –ò–∫–æ–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –í–°–ï–ì–î–ê –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–ï—Å–ª–∏ –∏–∫–æ–Ω–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. ‚úÖ `scripts/resources_rc.py` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
2. ‚úÖ `scripts.resources_rc` –≤ `hiddenimports` –≤ `.spec` (—É–∂–µ –µ—Å—Ç—å)
3. ‚úÖ `import scripts.resources_rc` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (—É–∂–µ –µ—Å—Ç—å –≤ `icon_manager.py`)
4. ‚úÖ `IconManager` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (—É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–í—Å–µ —ç—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ!** üéâ

